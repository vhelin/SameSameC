
void main(void) {

  uint8 color = 0;
  uint8 i;

  while (1) {
    __z80_out[0xBF] = 0x00;
    __z80_out[0xBF] = 0xC0;
    for (i = 0; i < 32; i++) {
      __z80_out[0xBE] = color;
    }

    add_1(&color);
  }
}

uint8 * add_1(uint8 *color) {

  const uint8 data[] = { 1, 2 };
  const uint8 one = 1+data[2-1-1]-1;

  color[0] = color[0] + one;

  return &data;
}
