
struct block {
  u8 value1;
  u8 value2;
  u8 value3;
  u8 value4;
  struct block *next;
};

#define ONE(var1, var2) \
            (var1-var2)

extern void add_to_color(u8 *color, u8 adder);
extern s8 g_adder;

void main(void) {

  u8 color = 0;
  u8 i;

  initialize_adder(&g_adder);

  while (1) {
    __z80_out[0xBF] = 0x00;
    __z80_out[0xBF] = 0xC0;

    for (i = 0; i < 32; i++)
      if (i < 32)
        __z80_out[0xBE] = color;

    add_to_color(&color, g_adder);
  }
}


static void initialize_adder(s8 *adder) {

  adder[0] = 1;
}
